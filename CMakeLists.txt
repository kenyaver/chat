cmake_minimum_required(VERSION 3.1)
project (chat)

add_definitions(${COMPILER_OPTS})

set(CHAT_SRCS src/server.cpp)
# set(${HEADER} aheader.h check.h command.h function.h offline.h onlineList.h protocol.h session.h timer.h user.h)
# set(${SOURCE} check.cpp command.cpp function.cpp offline.cpp onlineList.cpp protocol.cpp session.cpp timer.cpp user.cpp)

include_directories(include)
include_directories(check)
include_directories(command)
include_directories(function)
include_directories(offline)
include_directories(onlineList)
include_directories(protocol)
include_directories(session)
include_directories(timer)
include_directories(user)

add_executable(${PROJECT_NAME} ${CHAT_SRCS})

add_subdirectory(check)
add_subdirectory(command)
add_subdirectory(function)
add_subdirectory(offline)
add_subdirectory(onlineList)
add_subdirectory(protocol)
add_subdirectory(session)
add_subdirectory(timer)
add_subdirectory(user)

target_link_libraries(${PROJECT_NAME} check)
target_link_libraries(${PROJECT_NAME} command)
target_link_libraries(${PROJECT_NAME} function)
target_link_libraries(${PROJECT_NAME} offline)
target_link_libraries(${PROJECT_NAME} onlineList)
target_link_libraries(${PROJECT_NAME} protocol)
target_link_libraries(${PROJECT_NAME} session)
target_link_libraries(${PROJECT_NAME} timer)
target_link_libraries(${PROJECT_NAME} user)
